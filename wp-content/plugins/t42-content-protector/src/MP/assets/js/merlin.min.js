/**
 * Content Protector for WordPress. Exclusively on Envato Market: https://1.envato.market/42themeCC
 * @encoding     UTF-8
 * @version      1.0.9
 * @copyright    Copyright (C) 2016 - 2021 42Theme (https://42theme.com). All rights reserved.
 * @license      Envato Standard Licenses
 * @author       Alexander Khmelnitskiy
 * @support      support@42theme.com
 **/
"use strict";let Merlin=function(e){let n;function t(){let n=e(".merlin__body"),t=e("#merlin__drawer-trigger");function i(e){alert("Subscription failed. Check your e-mail and try again. Or skip this step."),e.removeClass("process")}function s(e){alert("Activation failed. Check your purchase code and try again. Or skip this step."),e.removeClass("process")}function o(n){setTimeout((function(){e(".merlin__body").addClass("js--finished")}),300),setTimeout((function(){e(".merlin__body").addClass("exiting")}),2300),setTimeout((function(){window.location=n}),2800)}setTimeout((function(){n.addClass("loaded")}),100),t.on("click",(function(){n.toggleClass("merlin__drawer--open")})),e(".merlin__content.requirements").length&&setTimeout((function(){n.addClass("merlin__drawer--open")}),1e3),e(".merlin__button--proceed:not(.merlin__button--closer)").click((function(t){t.preventDefault();let i=this.getAttribute("href");e(this).parents(".merlin__content.requirements").length?(setTimeout((function(){e(".merlin__body").addClass("js--finished")}),300),setTimeout((function(){n.removeClass("merlin__drawer--open"),e(".merlin__body").addClass("exiting")}),2300),setTimeout((function(){window.location=i}),2800)):(n.addClass("exiting"),setTimeout((function(){window.location=i}),400))})),e(".merlin__button--closer").on("click",(function(e){n.removeClass("merlin__drawer--open"),e.preventDefault();let t=this.getAttribute("href");setTimeout((function(){n.addClass("exiting")}),600),setTimeout((function(){window.location=t}),1100)})),e(".t42-merlin-subscribe-btn").on("click",(function(n){n.preventDefault();let t=e(this);if(t.hasClass("process"))return;t.addClass("process");let s=t[0].getAttribute("href"),r=e('[name="t42-merlin-email-input"]'),l=document.getElementById("t42-merlin-subscribe").checked;if(a=r.val(),!/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(a).toLowerCase()))return r.addClass("t42-form-danger"),void r.removeClass("t42-form-success");var a;r.removeClass("t42-form-danger"),r.addClass("t42-form-success");let c={action:"merlin_subscribe",wpnonce:merlin_params.wpnonce,join:l,mail:r.val()};e.post(merlin_params.ajaxurl,c,(function(e){e.success?o(s):(i(t),console.warn(e))}),"json").fail((function(e){i(t),console.warn(e)}))})),e(".t42-merlin-license-activate-btn").on("click",(function(n){n.preventDefault();let t=e(this);if(t.hasClass("process"))return;t.addClass("process");let i=t[0].getAttribute("href"),r=e("#license-key").val(),l={action:"merlin_activate",wpnonce:merlin_params.wpnonce,purchase_code:r};e.post(merlin_params.ajaxurl,l,(function(e){e.success?o(i):(s(t),console.warn(e))}),"json").fail((function(e){s(t),console.warn(e)}))}))}return{init:function(){n=this,e(t)},callback:function(e){console.log(e),console.log(this)}}}(jQuery);Merlin.init();