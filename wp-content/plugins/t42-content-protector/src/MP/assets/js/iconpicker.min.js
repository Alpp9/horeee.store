/**
 * Content Protector for WordPress. Exclusively on Envato Market: https://1.envato.market/42themeCC
 * @encoding     UTF-8
 * @version      1.0.9
 * @copyright    Copyright (C) 2016 - 2021 42Theme (https://42theme.com). All rights reserved.
 * @license      Envato Standard Licenses
 * @author       Alexander Khmelnitskiy
 * @support      support@42theme.com
 **/
let iconUploadBtns=document.getElementsByClassName("t42-icon-field-upload-btn");for(const e of iconUploadBtns)e.addEventListener("click",t=>{t.preventDefault();let n=wp.media({library:{type:["image/svg+xml"]},multiple:!1}).on("select",(function(){let t=n.state().get("selection").first().toJSON(),i=e.parentNode.previousElementSibling.querySelector("input"),l=e.parentNode,o=l.querySelectorAll(".t42-icon-field-image")[0];i.value=t.id,l.classList.add("t42-with-image"),o.innerHTML='<img src="'+t.url+'" class="svg" alt="'+t.alt+'">'})).open()},!1);let removeIconBtns=document.getElementsByClassName("t42-icon-field-remove");for(const e of removeIconBtns)e.addEventListener("click",()=>{let t=e.parentNode;t.classList.remove("t42-with-image"),t.previousElementSibling.value=""},!1);let iconLibBtns=document.getElementsByClassName("t42-icon-field-library-btn");for(const e of iconLibBtns)e.addEventListener("click",t=>{t.preventDefault();let n=document.createElement("div"),i=document.getElementsByTagName("html")[0];n.classList.add("t42-icon-field-modal-box");let l=(o='\n                    <div>\n                        <div class="t42-icon-field-modal-header">\n                            <div>Icon Library</div>\n                            <span data-t42-icon="icon: close" class="t42-icon"></span>\n                        </div>\n                        \n                        <div class="t42-icon-field-modal-content">\n                            <div>\n                                <div class="t42-icon-field-icon-search">\n                                    <div class="t42-text-field t42-text-field--outlined t42-text-field--with-trailing-icon">\n                                        <div class="t42-inline">\n                                            <span class="t42-form-icon" t42-icon="icon: search"></span>\n                                            <input class="t42-search-field">\n                                        </div>\n                                    </div>\n                                </div>\n                                \n                                <div class="t42-icon-field-category-box">\n                                    <div class="t42-icon-field-category-title"><h3>All Icons</h3></div>\n                                    <div class="t42-icon-field-category-items">\n                                        content\n                                    </div>            \n                                </div>\n                                \n                            </div>\n                        </div>\n                        \n                        <div class="t42-icon-field-modal-footer">\n                            <div>\n                                <button class="t42-button t42-button--dense t42-button--raised t42-ripple-upgraded">\n                                    <span class="t42-button__label">Insert</span>\n                                </button>\n                            </div>\n                        </div>\n                    </div>\n                ',(new DOMParser).parseFromString(o,"text/html").body.childNodes[0]);var o;function a(){n.parentNode.removeChild(n),i.classList.remove("t42-icon-field-modal-opened")}n.addEventListener("click",a,!1),l.querySelectorAll(".t42-icon-field-modal-header .t42-icon")[0].addEventListener("click",a,!1),l.querySelectorAll(".t42-icon-field-modal-footer .t42-button")[0].addEventListener("click",t=>{let n=document.querySelectorAll(".t42-icon-field-category-icon-box.t42-active img")[0],i=e.parentNode.previousElementSibling.querySelector("input");i.setAttribute("value",n.dataset.icon);let l=new Event("change");i.dispatchEvent(l),e.parentNode.classList.add("t42-with-image"),e.parentNode.querySelectorAll(".t42-icon-field-image")[0].innerHTML='<img src="'+n.getAttribute("src")+'" class="svg" alt="'+n.getAttribute("alt")+'">',a()},!1),l.addEventListener("click",e=>{e.stopPropagation()},!1);let c=JSON.parse(e.dataset.library),d=e.dataset.folder,s="";for(const e of c){s+='<div class="t42-icon-field-category-title"><h3>'+e.category_name+"</h3></div>",s+='<div class="t42-icon-field-category-items">';let t=e.icons;for(const e of t)s+='<div class="t42-icon-field-category-icon-box" data-filter="'+e.keywords.toString()+'">',s+="<div>",s+='<img src="'+d+e.path+'" data-icon="'+e.path+'" alt="'+e.name+'" loading="lazy" />',s+="<span>"+e.name+"</span>",s+="</div>",s+="</div>";s+="</div>"}let r=l.querySelectorAll(".t42-icon-field-category-box")[0];r.innerHTML=s;let v=r.querySelectorAll(".t42-icon-field-category-icon-box");function f(){for(const e of v)e.classList.remove("t42-active")}for(const e of v)e.addEventListener("click",t=>{f(),e.classList.add("t42-active")},!1);n.appendChild(l),i.classList.add("t42-icon-field-modal-opened"),document.body.appendChild(n);let m=document.querySelectorAll(".t42-icon-field-icon-search .t42-search-field")[0];m.addEventListener("input",e=>{let t=document.querySelectorAll(".t42-icon-field-category-icon-box");for(const e of t)e.dataset.filter.includes(m.value)?e.style.display="":e.style.display="none"},!1)},!1);